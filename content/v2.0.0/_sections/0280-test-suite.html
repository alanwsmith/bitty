<details class="section-details">
  <summary>Test Suite</summary>

  <h2> TODO: Move tests to using init(_event, el) instead of bittyInit()</h2>


  <h3>Test Results</h3>
  <[@ config.tag_name @]
    data-connect="/[@ config.version_dir @]/modules/test-results.js"
    data-send="showResults"
    class="default-flow">
    <div data-receive="showResults">
      <noscript>
        JavaScript must be enabled and working to calculate test results 
      </noscript>
    </div>

    <p>
      NOTE: Each test loads its own external `test.js` file. 
      They are checked after a brief `setTimeout()`. 
      If you're on a slow network connection they may
      not all load before the check function fires. 
      That's the first thing to check if you 
      see failures. 
    </p>

  </[@ config.tag_name @]>

  [! for folder in folders !] [! if folder.parent == config.version_dir + "/tests" !]
    <div>
      <h5 class="test-title">
        [! include config.version_dir + "/tests/" + folder.name + "/title.txt" !]
      </h5>
      <div class="example-output">
        <div class="test-output">
          [! include config.version_dir + "/tests/" + folder.name + "/index.html" !]
          <details class="test-code">
            <summary>Test Code<br>ID: [@ folder.name @]</summary>
            <pre class="code-block">
        [! filter highlight_html|safe !]
          [! include config.version_dir + "/tests/" + folder.name + "/index.html" !]
        [! endfilter !]
            </pre>
            <pre class="code-block">
            [! filter highlight_javascript|safe !]
              [! include config.version_dir + "/tests/" + folder.name + "/test.js" !]
            [! endfilter !]
            </pre>
          </details>
        </div>
      </div>
    </div>
  [! endif !] [! endfor !]
</details>
