[!- extends "_wrappers/7/0/0/main-wrapper.html" -!] 

[!- block bittyOpenTag -!]
[!- include wrapper_root + "includes/bitty-open-tags.html" -!]
[!- endblock -!]

[!- block bittyCloseTag -!]
[!- include wrapper_root + "includes/bitty-close-tags.html" -!]
[!- endblock -!]

[! block header !]
<header class="default-wrapper">
<hgroup>
  <h1>bitty</h1>
  <div class="subtitle faded-accent-color">a bit of interactivity</div>
</hgroup>
</header>
[! endblock !]

[!- block main -!]
[!- set example_html_path = version_dir + "/snippets/0010-home-page/example.html" -!]
[!- set example_js_path = version_dir + "/snippets/0010-home-page/example.js" -!]
[!- set match_game_styles = version_dir + "/projects/match-game/styles.css" -!]
[!- set match_game_script = version_dir + "/projects/match-game/script.js" -!]
[!- set match_game_path = version_dir + "/projects/match-game/_content.html" -!]

<main class="default-wrapper default-flow">
<p>
  Bitty is a tool for making things on the web. For example, this match game:
</p>

<style>
[!- include match_game_styles -!]
</style>

<script>
[!- include match_game_script -!]
</script>

<script>
[! include example_js_path !]
</script>

<div class="xsmall-width accent-border default-padding default-border-radius">
  <div class="home-page-example-title faded-accent-bottom-border default-bottom-margin">Match Game</div>
  <div class="home-page-example-content">
    [!- include match_game_path -!]
  </div>
  <div class="home-page-example-code-link xlarge-top-margin text-align-right">
      [!- set match_game_index_path = version_dir + "/projects/match-game/index.html" -!]
    <a href="[@ match_game_index_path @]">view code</a>
  </div>
</div>

  <h2>The Basics</h2>
  <p>
  Bitty comes in the form of an HTML tag. Wrapping
    it around other tags makes them interactive. 
    For example, this HTML:
  </p>

[! filter block_highlight("html") -!]
[!- include example_html_path -!] 
[@- "\n\n" -@]
[@ bitty_script_tag @]
[! endfilter !]

<p>and this JavaScript:</p>
[! filter block_highlight("js") !]
[! include example_js_path !]
[! endfilter !]

  <p>Make this button:</p>

<div class="example-block">
[! include example_html_path !]
</div>

  <p>Tap or click it to show the current date and time.</p>


<h2>More Examples</h2>

<p>Here's some other things 
  you can do with Bitty. Each one has
a link to the code that makes it work.</p>


<div class="home-page-examples">
[!- for f in folders -!]
[!- if f.parent == version_dir + "/examples" -!]
  [!-set title_path = f.parent + "/" + f.name + "/title.txt" !]
  [!-set content_path = f.parent + "/" + f.name + "/_content.html" !]
  [!-set style_path = f.parent + "/" + f.name + "/styles.css" !]
  [!-set script_path = f.parent + "/" + f.name + "/bitty-script.js" !]
  [!-set url = "/" + f.parent + "/" + f.name + "/" !]
<style>
[!- include style_path -!]
</style>

<script>
[!- include script_path -!]
</script>

<div class="home-page-example">
  <div class="home-page-example-title faded-accent-bottom-border default-bottom-margin">[!-include title_path !]</div>
  <div class="home-page-example-content">
    [!- include content_path -!]
  </div>
  <div class="home-page-example-code-link xlarge-top-margin text-align-right">
    <a href="[@ url @]">view code</a>
  </div>
</div>

[!- endif -!]
[!- endfor -!]

</div>

<h2>How It Works</h2>

<p>
  <strong>bitty</strong> is a web component. 
  You can include it on your page with this script
  tag:
</p>

<div class="default-padding">
    [! filter block_highlight("html") !]<script 
  src="[@ bitty_js_path|safe @]" 
  type="module"></script>[! endfilter !]
</div>


<p>
  Once it's on your page, there are three steps
  to add functionality:
</p>

<ol>
  <li>
    <p><strong>Add one of bitty's <code>data-...</code> attribute to
      an element</strong></p> 
    <p>For example, this button uses the <code>data-use</code> attribute</p>
    <div>

      [! filter block_highlight("html") !]<button data-use="randomExample">
  Get Random Number
</button>[! endfilter !]
    </div>
    <p>
      The <code>randomExample</code> value of the <code>data-use</code> attribute is
      the name of a signal that connects to the JavaScript
      will write in step 3. 
    </p>
  </li>

  <li>
    <p><strong>Wrap the button inside a <strong>bitty</strong> tag</strong></p>
    <div>
      [! filter block_highlight("html") !]<[@ bitty_tag @] data-connect="Randomizer">
  <button data-use="randomExample">
    Get Random Number
  </button>
</[@bitty_tag @]>[! endfilter !]
    </div>
    <p>
      Individual <strong>bitty</strong> tags connect to JavaScript
      classes that provide the code for the functionality. In this
      case, we're using [! filter inline_highlight("html") !]data-connect="Randomizer"[! endfilter !] 
      to connect to class on the page named <code>Randomizer</code>
      that we'll create in the next step.
    </p>
  </li>
  <li>
    <p><strong>Add the JavaScript</strong></p>
    <p>
      <strong>bitty</strong> can use JavaScript from a module or
      from code that's directly on the page. We'll use the later
      for this example by creating a class on the window 
      named <code>Randomizer</code> (which is the value
      we set in the bitty tag's <code>data-connect</code> attribute).
    </p>

      [! filter block_highlight("html") !]<script>
  window.Randomizer = class {
    randomExample(_, el) {
      el.innerHTML = Math.floor(
        Math.random() * 100
      );
    }
  }
</script>[! endfilter !]
    <p>
      The <code>randomExample</code> method name matches
      the value from the <code>data-use</code> attribute
      on the <code>button</code> element. That name
      matching is how bitty connects elements
      to methods to make them interactive. 
    </p>
  </li>
</ol>

<p>Putting that code on the page produces this button:
</p>

<bitty-7-0 data-connect="Randomizer" class="example-block">
  <button data-use="randomExample">
    Get Random Number
  </button>
</bitty-7-0>

      <script>
  window.Randomizer = class {
    randomExample(_, el) {
      el.innerHTML = Math.floor(
        Math.random() * 100
      );
    }
  }
</script>

<p>
  When you click it, the text inside turns
  into a random number between 1 and 100
  thanks to the <code>randomExample</code>
  method from the <code>window.Randomizer</code>
  class.
</p>


<h2>A Few Technical Details</h2>

[! filter markdown|safe !]
- Bitty is a Light DOM web component written 
  in vanilla JavaScript. It's a single file. 
  Compressed, it's a little under 4KB. 

- Bitty requires no build steps or
  installation of npm packages. 
  You simply included it on your page
  with a script tag like:

    [! filter block_highlight("html") 
    -!][@ bitty_script_tag @][! endfilter !]

- Once you have the script tag on your page, 
  you're ready to start adding 
  [! filter inline_highlight("html") !]<[@ bitty_tag @]>[! endfilter !]
  tags to enhance your pages. 

- Bitty's design goal is to make is as simple as
  possible to work with. It uses native HTML 
  Attributes, Elements, and Events connected
  to single JavaScript method with a signaling
  approach. 

- The entire HTML portion of Bitty's API consistes
  of six `data-*` attributes:

    - data-connect 
    - data-init
    - data-listeners
    - data-receive
    - data-send
    - data-use

  You can learn more about them in
  [the documentation](/[@ documentation_root @]).

- The JavaScript methods are custom code that
  you write. Each one has the same
  incoming signature with two arguments:
  an event and an element. They look like this:

    [! filter block_highlight("js") -!]
someFeature(event, element) {
    // do something with the 
    // event and element here. 
  }

anotherFeature(event, element) {
    // do something with the 
    // event and element here. 
  }

  [! endfilter !]

- Bitty is designed explicitly to work with
  a Progressive Enhancement approach as well
  as general JavaScript loading. 

- Bitty provides for loading external HTML,
  JSON, TXT, and SVG files with find
  and replace feature that make it easy
  to assemble new elements and document
  fragments. 

  [! endfilter !]

  <h2>Next Steps</h2>

  <p>
    The Getting Started guide is almost
    ready. In the mean time, you can:
  </p>


  <ul>
    <li>Check out <a href="[@ documentation_root @]">the documentation</a>.</li>
    <li>
      View the code for each of the examples above. They're
      ordered with the simplest ones first and 
      get progressively more complicated to demonstrate
      the basic concepts
    </li>
    <li>
      View <a href="[@ tests_root @]">the test suite</a> where
      each tests has the source HTML and JavaScript
      used in the test.
    </li>
  </ul>
      

  






</main>
[!- endblock -!]

