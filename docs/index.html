<!DOCTYPE html>

<!-- 

######################################################
REMINDER: DO NOT EDIT THIS FILE DIRECTLY.

Use the build-site.rs script to generate it
######################################################

-->

<html lang="en">
  <head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>bitty.js</title>
<link rel="shortcut icon" href="/favicons/favicon.ico" />
<meta property="og:title" content="bitty.js" />
<meta
  property="og:description"
  content="a single component for reactive elements"
/>
<meta property="og:type" content="website" />
<meta property="og:url" content="https://bitty-js.alanwsmith.com/" />
<meta
  property="og:image"
  content="https://bitty-js.alanwsmith.com/images/og-image-main.jpg"
/>
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="/favicons/apple-touch-icon.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/favicons/favicon-16x16.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/favicons/favicon-32x32.png"
/>
<link rel="manifest" href="/favicons/site.webmanifest" />
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5" />
<meta name="description" content="a single component for reactive elements" />
<link rel="stylesheet" href="/styles/main.css" />  </head>

  <body>
    <header class="default-wrapper header-flex small-font xlarge-bottom-margin">
<div class="header-flex-2">
  <div>made by <a href="https://www.alanwsmith.com/">alan w smith</a></div>
  <a href="https://github.com/alanwsmith/bitty-js">source</a>
  <a href="https://links.alanwsmith.com/">other projects</a>
  <a href="https://socials.alanwsmith.com/">socials</a>
</div>
<github-stars
  :repo="alanwsmith/bitty-js"
  :text-color="var(--accent-faded)"
  :background-color="var(--background)"
></github-stars>    </header>
    <main class="default-wrapper default-flow">
      <hgroup>
        <h1>bitty.js</h1>
        <div class="hgroup-flex">
          <div class="small-font accent-faded">
            a single component for reactive elements
          </div>
        </div>
      </hgroup>

      <!-- prettier-ignore -->

<h2>Hello, bitty</h2>

<!-- 

######################################################
REMINDER: DO NOT EDIT THIS FILE DIRECTLY.

Use the build-site.rs script to generate it
######################################################

-->

<p>Bitty is a web component. It makes elements reactive.</p>
<p>This page has docs and examples of bitty's features. The first is this counter.
  Click it to make a number go up.
</p>
<div
  class="make-two-columns warning-border-faded default-radius xxlarge-inline-margin"
>  <bitty-js 
  data-bridge="./counter.js">

  <button 
    data-call="addOne" 
    data-send="showNum"
    data-recieve="showNum"
  > Click Me
  </button>

</bitty-js>
</div>
<p>
  Bitty uses signaling.
  <code>data-*</code> attributes define the signals an element sends and
  recieves. For example, the counter looks like this:
</p>

<div class="two-column-example">
  <div>
    <div>index.html</div>
    <pre
      class="code-block"
    ><code><span class="codeLine"><span style="color:#c0c5ce;">&lt;</span><span style="color:#bf616a;">bitty-js</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">  </span><span style="color:#d08770;">data-bridge</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">./counter.js</span><span style="color:#c0c5ce;">&quot;&gt;</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#c0c5ce;">  &lt;</span><span style="color:#bf616a;">button</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">    </span><span style="color:#d08770;">data-call</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">addOne</span><span style="color:#c0c5ce;">&quot;</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">    </span><span style="color:#d08770;">data-send</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">showNum</span><span style="color:#c0c5ce;">&quot;</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">    </span><span style="color:#d08770;">data-recieve</span><span style="color:#c0c5ce;">=&quot;</span><span style="color:#a3be8c;">showNum</span><span style="color:#c0c5ce;">&quot;</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">  &gt; Click Me</span></span>
<span class="codeLine"><span style="color:#c0c5ce;">  &lt;/</span><span style="color:#bf616a;">button</span><span style="color:#c0c5ce;">&gt;</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">bitty-js</span><span style="color:#c0c5ce;">&gt;</span></span></code></pre>
  </div>
  <div>
    <div>counter.js</div>
    <pre
      class="code-block"
    ><code><span class="codeLine"></span>
<span class="codeLine"><span style="color:#b48ead;">export default class </span><span style="color:#eff1f5;">{</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">constructor</span><span style="color:#eff1f5;">() {</span></span>
<span class="codeLine"><span style="color:#eff1f5;">    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.num </span><span style="color:#c0c5ce;">= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">;</span></span>
<span class="codeLine"><span style="color:#eff1f5;">  }</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">_addOne</span><span style="color:#eff1f5;">() {</span></span>
<span class="codeLine"><span style="color:#eff1f5;">    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.num </span><span style="color:#c0c5ce;">+= </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;</span></span>
<span class="codeLine"><span style="color:#eff1f5;">  }</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#eff1f5;">  </span><span style="color:#8fa1b3;">$showNum</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">el</span><span style="color:#eff1f5;">) {</span></span>
<span class="codeLine"><span style="color:#eff1f5;">    </span><span style="color:#bf616a;">el</span><span style="color:#eff1f5;">.innerHTML </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.num;</span></span>
<span class="codeLine"><span style="color:#eff1f5;">  }</span></span>
<span class="codeLine"></span>
<span class="codeLine"><span style="color:#eff1f5;">}</span></span></code></pre>
  </div>
</div>

<ul>
  <li>
    <code>data-bridge</code> connects to 
    <code>counter.js</code>
  </li>
  <li>
    <code>data-c</code> calls <code>_addOne</code> when the button
    is clicked (prepending the funciton name with an <code>_</code> is part of
    bitty's naming convention)
  </li>
  <li>
    <code>data-s</code> sends the signal to run <code>$showNum</code> when the button is
    clicked
    (prepending <code>$</code>
    is another part of the naming convention)
  </li>
  <li>
    <code>data-r</code> registeres the button to receive updates when
    <code>showNum</code> signals are sent
  </li>
</ul>

<p>
  There are more features, but that's everything you need to know to get
  started.
</p> 

      <!-- prettier-ignore-end -->
    </main>

    <footer
      class="default-wrapper align-center large-top-padding accent-top-border-faded2"
    >
      made by <a href="https://www.alanwsmith.com/">alan w smith</a>
      <br />
      <a href="https://links.alanwsmith.com">other projects</a> ~
      <a href="https://github.com/alanwsmith/bitty-js">source</a> ~
      <a href="https://socials.alanwsmith.com">socials</a>
    </footer>

<!-- 

######################################################
REMINDER: DO NOT EDIT THIS FILE DIRECTLY.

Use the build-site.rs script to generate it
######################################################

-->
 <script type="module" src="bitty.js"></script>
<script type="module" src="components/github-stars-beta-1.js"></script>
<script type="module">
  class DetailsWatcher {
    #storageName = 'openDetailsData'
    #data

    initTags() {
      this.details().forEach((tag, tagIndex) => {
        if (this.#data.has(tagIndex)) {
          tag.open = true
        }
        tag.addEventListener('toggle', (event) => {
          if (event.newState === 'open') {
            this.#data.add(tagIndex)
          } else {
            this.#data.delete(tagIndex)
          }
          this.saveState()
        })
      })
    }

    details() {
      return document.querySelectorAll('details')
    }

    loadState() {
      const storage = localStorage.getItem(this.#storageName)
      if (storage === null) {
        this.#data = new Set()
      } else {
        this.#data = new Set(JSON.parse(storage).data)
      }
    }

    run() {
      this.loadState()
      this.initTags()
    }

    saveState() {
      localStorage.setItem(
        this.#storageName,
        JSON.stringify({ data: [...this.#data] })
      )
    }
  }
  const dw = new DetailsWatcher()
  dw.run()
</script>  </body>
</html>