<!DOCTYPE html>
<html lang="en">
  <head>
<!--

Welcome to the source code!

Neither this page nor the CSS has
undergone any optimization.
That's for a future update.

-->

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>bitty - signals based web component</title>
<meta property="og:title" content="bitty - signals based web component" />
<link rel="shortcut icon" href="/favicon.ico" />
<meta name="description" content="A vanilla JS web component that uses signals to add reactivity to web pages" />
<meta property="og:description" content="A vanilla JS web component that uses signals to add reactivity to web pages" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://bitty.alanwsmith.com/" />
<meta property="og:image" content="https:&#x2f;&#x2f;bitty.alanwsmith.com&#x2f;images&#x2f;og-image.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="675" />

<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png" />
<link rel="manifest" href="/images/favicons/site.webmanifest" />
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#5bbad5" />
<link rel="stylesheet" href="/styles/main.css" />

<script>
  window.InlineExample = class { 
    updateFromPage(_event, el) {
      el.innerHTML = "PASSED";
      el.classList.add("test-passed");
    }
  }
</script>
<script>
  window.TestClass0340 = class {
    runTest0340(_event, el) {
      el.innerHTML = "PASSED";
      el.classList.add("test-passed");
    }
  }
</script>

  </head>

  <body>
    <header class="default-wrapper header-flex small-font xlarge-bottom-margin">
      <div class="header-flex-2">
        <div>made by <a href="https://www.alanwsmith.com/">alan w smith</a></div>
        <a href="https://github.com/alanwsmith/bitty">source</a>
        <a href="https://socials.alanwsmith.com/">socials</a>
        <a href="https://links.alanwsmith.com/">other projects</a>
        <!--
        TODO: rss
      -->
      </div>

        <!-- TODO: only show github-stars if not on localhost -->
      <github-stars
        :repo="alanwsmith/bitty"
        :text-color="var(--accent-faded)"
        :background-color="var(--background)"
      ></github-stars>

    </header>

    <main class="default-wrapper default-flow">
      <hgroup>
        <h1>bitty</h1>
        <div class="small-font accent-faded">
          signals based reactivity 
        </div>
      </hgroup>
<div class="download-div">
  <div class="download-link-wrapper">
    <a class="download-link" href="/bitty-2.0.0-rc1.full.js" download>
      <span class="small-font">Download</span>
      <br>Version 2.0.0<br>Release Candidate 1<br><span class="small-font">bitty-2.0.0-rc1.full.js</span></a>
  </div>
</div>

<div class="center">
  non-minified version: <a href="/bitty-2.0.0-rc1.full.js" download>bitty-2.0.0-rc1.full.js</a>
</div>

<details class="section-details">
  <summary>Overview</summary>

<p><strong>bitty</strong> is a web component. It uses signals to make pages reactive.
For example:</p>

<div class="add-bitty-flow">
<bitty-COMPONENT_VERSION data-connect="/modules/timestamp-demo.js">
  <button data-send="updateTimestamp">Show Timestamp</button>
  <div data-receive="updateTimestamp">Waiting for click</div>
</bitty-COMPONENT_VERSION></div>

<p>The <strong>bitty API</strong> is made from  <strong>data-*</strong> attributes. For example,
here's the HTML that makes up the example:</p>

<pre class="code-block large-block-margin"><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="invalid illegal uppercase-custom-tag-name html">bitty-COMPONENT_VERSION</span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">data-connect</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>/modules/timestamp-demo.js<span class="punctuation definition string end html">&quot;</span></span></span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>  <span class="meta tag inline form html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag inline form html">button</span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">data-send</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>updateTimestamp<span class="punctuation definition string end html">&quot;</span></span></span><span class="punctuation definition tag end html">&gt;</span></span>Show Timestamp<span class="meta tag inline form html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag inline form html">button</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>  <span class="meta tag block any html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag block any html">div</span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">data-receive</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>updateTimestamp<span class="punctuation definition string end html">&quot;</span></span></span><span class="punctuation definition tag end html">&gt;</span></span>Waiting for click<span class="meta tag block any html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag block any html">div</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="invalid illegal uppercase-custom-tag-name html">bitty-COMPONENT_VERSION</span><span class="punctuation definition tag end html">&gt;</span></span></span>
<span class="line-marker"></span><span class="text html basic"><span class="meta tag script begin html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag script html">script</span></span><span class="meta tag script begin html"> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">src</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>/bitty-2.0.0-rc1.full.js<span class="punctuation definition string end html">&quot;</span></span></span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">type</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>module<span class="punctuation definition string end html">&quot;</span></span></span></span><span class="meta tag script begin html"><span class="punctuation definition tag end html">&gt;</span></span><span class="source js embedded html"></span><span class="meta tag script end html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag script html">script</span><span class="punctuation definition tag end html">&gt;</span></span></span></pre>


<ul>
<li>The <strong>bitty-COMPONENT_VERSION</strong> tag's <strong>data-connect</strong> attribute defines the path to a JavaScript module responsible for providing functionality.</li>
<li>The <strong>button</strong> tag's <strong>data-send</strong> attribute sets it up to send <strong>update</strong> signals when its clicked.</li>
<li>The <strong>div</strong> tag's <strong>data-receive</strong> attribute registers it to react to <strong>update</strong> signals when they occur.</li>
</ul>
<h4>Functionality</h4>
<p>The <strong>update</strong> values from the <strong>data-send</strong> and <strong>data-receive</strong>
attributes map to a function in the module with the same name.</p>

<pre class="code-block large-block-margin">Could not load file to highlight: modules/timestamp-demo.js</pre>

<p>The arguments passed to the function are:</p>
<ol>
<li>
<p>The <strong>event</strong> that triggered the update (e.g. <strong>click</strong> events on
the <strong>button</strong> in the example)</p>
</li>
<li>
<p>The <strong>element</strong> to update (e.g. the <strong>div</strong> element in the example)</p>
</li>
</ol>
<p>The <strong>event</strong> and <strong>element</strong> are the same ones you'd get
from <strong>document.addEventListener()</strong> and <strong>document.querySelector()</strong>
functions.</p>
<p>When the example <strong>button</strong> is clicked the <strong>div</strong> element is passed
through the function where it has its innerHTML updated.
(The <strong>event</strong> isn't used in this example.)</p>

</details> 
 
    </main>

    <footer
      class="default-wrapper align-center large-top-padding accent-top-border-faded2"
    >
      made by <a href="https://www.alanwsmith.com/">alan w smith</a>
      <br />
      <a href="https://github.com/alanwsmith/bitty">source</a> ~
      <a href="https://socials.alanwsmith.com">socials</a> ~
      <a href="https://links.alanwsmith.com">other projects</a>
    </footer>

<script type="module" src="components/github-stars-beta-1.js"></script>
<script type="module">
  class DetailsWatcher {
    #storageName = 'openDetailsData'
    #data

    initTags() {
      this.details().forEach((tag, tagIndex) => {
        if (this.#data.has(tagIndex)) {
          tag.open = true
        }
        tag.addEventListener('toggle', (event) => {
          if (event.newState === 'open') {
            this.#data.add(tagIndex)
          } else {
            this.#data.delete(tagIndex)
          }
          this.saveState()
        })
      })
    }

    details() {
      return document.querySelectorAll('details')
    }

    loadState() {
      const storage = localStorage.getItem(this.#storageName)
      if (storage === null) {
        this.#data = new Set()
      } else {
        this.#data = new Set(JSON.parse(storage).data)
      }
    }

    run() {
      this.loadState()
      this.initTags()
    }

    saveState() {
      localStorage.setItem(
        this.#storageName,
        JSON.stringify({ data: [...this.#data] })
      )
    }
  }
  const dw = new DetailsWatcher()
  dw.run()
</script>


<script src="/versions/v2.0.0/bitty-2.0.0-rc1.full.js" type="module"></script>

  </body>
</html>



